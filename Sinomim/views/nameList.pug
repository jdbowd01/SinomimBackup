extends layout

block moreCss
  link(href='/css/marketStyle.css', rel='stylesheet')

block nav
  ul#navbar
    a.navtab.unselectedTab(href="/"): li Home
    a.navtab.headerTab(href="/nameList"): li Market
    a.navtab.unselectedTab(href="/bargains"): li Bargains
    a.navtab.unselectedTab(href="/login"): li Profile 

block content
  #market.flexCol
    #platformChoice.flexRow
      #selectBtns.flexCol
        section#selectAll.btnStyle Select All
        section#selectNone.btnStyle Select None
      #imageSelectHold
        .imageSelectHold
          img.imageSelect(src='/images/steam-nebula.jpg')
      #selectArrows.flexCol
        img#upArrow.arrowBtn(src='/images/arrow.png')
        img#downArrow.arrowBtn(src='/images/arrow.png')
    #nameMarket.flexRow
      #nameDetail.flexCol
        h2.importantText.center-text.welcomeText Welcome to the marketplace!
        p.center-text.welcomeText The buttons you see in the center are the names, hover over any one for more details in this same box!
        p.center-text.welcomeText Above those is the platform selection. If you are looking for a name from a certain place, select it there!
        p.center-text.welcomeText In the box to the right of the names, you can filter what names are displayed!
      #nameDisplayHolder
        #nameSelect.center-text
          - for(var i = 0; i < users.length; i++) {
            - if(i < paginate) {
              section.usernameSale(data-json=users[i])
                a(href=`/nameDetails/${users[i]._id}`)= users[i].nickname
            - } else {
              section.usernameSale.notOnPage(data-json=users[i])
                a(href=`/nameDetails/${users[i]._id}`)= users[i].nickname
            - }
          - } 
        #namePaginationMove.flexRow
          input(type='number', value=1, min=1, max=1, onChange='changePage()')
          p of 1
      #nameFilter.flexCol
        #nameSearch.flexRow.marginAuto
          p.importantText Search for:
          input(type=text, onKeyUp='changePage()')
        #namePagination.flexRow.marginAuto
          p.importantText Entries per page:
          select#pageNum(name=perPage, onChange='changePage()')
            option(value=5) 5
            option(value=10) 10
            option(value=20) 20
            option(value=50) 50
        #nameOrder.marginAuto.center-text
          p.importantText Order By:
          .nameOrderOption.flexRow.marginAuto
            input(type='radio', name='orderBy', value='username', onChange='changePage()', checked)
            p Username
          .nameOrderOption.flexRow.marginAuto
            input(type='radio', name='orderBy', value='lastActivity', onChange='changePage()')
            p Last Activity
          .nameOrderOption.flexRow.marginAuto
            input(type='radio', name='orderBy', value='application', onChange='changePage()')
            p Application
        #nameBidbuy.marginAuto.center-text
          p.importantText Show only:
          .bidbuyOption.flexRow.marginAuto
            input(type='radio', name='bidbuy', value='both', onChange='changePage()', checked)
            p Both
          .bidbuyOption.flexRow.marginAuto
            input(type='radio', name='bidbuy', value='bid', onChange='changePage()')
            p Auctions
          .bidbuyOption.flexRow.marginAuto
            input(type='radio', name='bidbuy', value='buy', onChange='changePage()')
            p Purchases
  script(src='scripts/anime.min.js')  
  script.
    var users = #{users.length};
  script(src='scripts/market.js')